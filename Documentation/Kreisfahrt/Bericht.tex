\documentclass[a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{nicefrac}
\usepackage{graphicx, wrapfig, float}
\usepackage[onehalfspacing]{setspace}

\title{Kreisfahrten mit einem Roboter mit Mecanum-Rädern}
\author{Manuel Fehmer \\ Thomas Feldmann \\ Marlene Feldmann \\ Carsten Hussmann}

\begin{document}
\maketitle
\newpage

% =====================================================================================================================
\section{Einleitung}
Der Mecanum-Roboter ist ein omnidirektionales Fahrzeug. Er kann ohne Lenkung aus jeder Position in eine beliebige Richtung fahren. Grund dafür sind die verwendeten Allseitenräder -- Mecanum-Räder -- auf deren Umlauffläche 15 weitere tonnenförmige Hilfsräder angebracht sind. Zur Steuerung des Roboters ist es notwendig ein mathematisches Modell zur Beschreibung der einzelnen Bewegungen der Räder aufzustellen.

Ziel ist es eine Kreisfahrt auf einem Viertelkreis mit dem Durchmesser 4000 mm auf drei Arten zu realisieren.

\vspace{2cm}
\begin{figure}[H]
    \centering
    \includegraphics[width=.6\textwidth]{Viertelkreis-vorwaerts}
    \caption{Kreisfahrt vorwärts}
\end{figure}
Der Mecanum-Roboter fährt einen normalen Viertelkreis. Das Koordinatensystem des Roboters dreht sich dabei während der Kreisfahrt mit.

\begin{figure}[H]
    \centering
    \includegraphics[width=.6\textwidth]{Viertelkreis-translatorisch}
    \caption{Translatorische Kreisfahrt}
\end{figure}
Die Koordinaten des Roboters liegen auf den Raumkoordinaten. Die parallele Ausrichtung bleibt während der Kreisfahrt bestehen. Der Roboter fährt den Viertelkreis mit der "Nase nach vorne".

\vspace{2cm}
\begin{figure}[H]
    \centering
    \includegraphics[width=.6\textwidth]{Viertelkreis-seitwaerts}
    \caption{Kreisfahrt seitlich}
\end{figure}
Das Koordinatensystem des Roboters ist um $90^\circ$ zum Raumkoodinatensystem gedreht. Bei der Kreisfahrt dreht sich der Roboter seitlich mit.


% =====================================================================================================================

\section{Mathematik zur Kinematik / Dynamik}
Dieses Kapitel beschreibt die Mathematik hinter der Kinematik und Dynamik -- Bewegung unter Einwirkung von Kräften -- des Mecanum-Roboters. Jede Bewegung setzt sich aus einer translatorischen und einer rotatorischen Bewegung zusammen. So ist das auch das Kapitel gegliedert.

\subsection{Translation}
Vereinfacht kann die translatorische Bewegung des Mecanum-Roboters durch die Drehrichtung und Drehgeschwindigkeit der Mecanum-Räder beschrieben werden. Abhängig von den unterschiedlichen Kombination fährt der Roboter entlang des Vektors für die Gesamtbewegung.
\begin{figure}[H]
    \centering
    \includegraphics[width=.6\textwidth]{kraefte}
    \caption{Kräftegleichgewicht an einem Mecanum-Rad.}
\end{figure}

Die Leistung einer vektoriellen Kraft berechnet sich nach:
$$ P_F = F_T \cdot v_F $$

Wirken Kraft und Geschwindigkeit entlang einer Koordinatenachse, haben beide Vektoren die gleiche Komponente ungleich null und ihr Skalarprodukt kann vereinfacht als Produkt der skalaren Größen betrachtet werden.

Die Kraftvektor in $x$- und $y$-Richtung setzt sich zusammen als die Summe der einzelnen $x$- und $y$-Vektoren der vier Räder:
\begin{align*}
\sum_{i=1}^4 F_{iy} &= \sum_{i=1}^4 F_i \sin \alpha \\
&= \sum_{i=1}^4 SIG \cdot K_i F_{Ti} \sin^2 \alpha \\
&= \sum_{i=1}^4 SIG \cdot \frac{1}{2} K_i F_{Ti} \\
\sum_{i=1}^4 F_{ix} &= \sum_{i=1}^4 F_i \cos \alpha \\
&= \sum_{i=1}^4 (-1)^i SIG \cdot K_i F_{Ti} \sin \alpha \cos \alpha \\
&= \sum_{i=1}^4 (-1)^i SIG \cdot \frac{1}{2} K_i F_{Ti} \\
\end{align*}

SIG steht als Vorzeichenkonventionen für die Drehrichtung der Räder. Diese werden in der Steuerung direkt implementiert und werden daher bei den folgenden Rechnungen nicht weiter betrachtet.

Der Winkel $ \alpha $ liegt zwischen den Drehachsen der Rollen und der Räder ($\alpha = 45^\circ$).
Für eine translatorisch Bewegung müssen sich jeweils die diagonalen Räder (1, 3 und 2, 4) mit derselben Geschwindigkeit drehen. Entsprechen müssen ihre Kraftvektoren $F_{T1, 3} / F_{T2, 4}$ gleich groß sein.
Durch Auflösen der Summenzeichen erhält man ein Gleichungssystem:
\begin{align*}
F_x &= - K_i F_{T1, 3} + K_i F_{T2, 4} \\
F_y &= K_i F_{T1, 3}   + K_i F_{T2, 4}
\end{align*}

Nach Umstellen erhält man $F_{T1, 3}$ und $F_{T2, 4}$ und kann somit auch direkt die Geschwindigkeiten berechnen:
\begin{align*}
F_{T1, 3} &= \frac{F_y + F_x}{K_i} &\Rightarrow v_{T1, 3} &= \frac{v_y + v_x}{K_i}\\
F_{T2, 4} &= \frac{F_y - F_x}{K_i} &\Rightarrow v_{T2, 4} &= \frac{v_y - v_x}{K_i}\\
\end{align*}

Der Faktor $K_i$ setzt sich aus unterschiedlichen Faktoren zusammen, welche die durch das Motormoment erzeugten treibenden Kräfte beeinflussen und wird für den Boden der Werkstatt empirisch ermittelt.


\subsection{Rotation}
Die Rotation des Mecanum-Roboters um sein Zentrum kann durch die Drehrichtung der Räder bei gleicher Geschwindigkeit beschrieben werden.
Für eine Drehung im Uhrzeigersinn drehen Rad 1\&2 rückwärts, Rad 3\& 4 vorwärts. Für eine Drehung gegen den Uhrzeigersinn entsprechend umgekehrt.
\begin{align*}
v_{ref} &= K_i \cdot r \cdot \omega \\
v_1 = v_4 &= - v_{ref} \\
v_2 = v_3 &= + v_{ref}
\end{align*}


\section{Schlussteil}
Diskussion der Ergebnisse
asc
Schwierigkeiten
Bei der Umsetzung der Kreisfahren treten zahlreiche Schwierigkeiten auf, auf die über die Programmierung kein Einfluss zu nehmen ist.
Untergrund uneben / Unebenheiten
keine perfekt planaren Fläche
Schmutz ändert Reibkoeffizient
Motorenleistung zu schwach, verlieren Schritte
Räder verhaken im Riementrieb
Lagerung der Rollen auf den Rädern mangelhaft
Befestigung und Lagerung der Rollen mangelhaft

% \section{Dimensionierung}
% \subsection{Ermitteln der Dimensionierungsfaktoren}
% Durch die erhöhte Lochleistung treten auch höhere Kräfte und damit höhere Spannungen im Material auf.
% Da das Material innerhalb der Baureihe gleich bleiben soll, muss die Geometrie der Bürolocher an die neuen Anforderungen angepasst werden.

% Für die im Hebelarm auftretende Biegespannung während des Lochens gilt folgende Beziehung:
% $$ \sigma_b = \frac{M}{W} = \frac{F \cdot l}{W} $$

% Wobei $\sigma_b$ die Biegespannung, $M$ das angreifende Biegemoment und $W$ das Widerstandsmoment ist.
% Das Biegemoment lässt sich durch die Kraft $F$ mit Hebelarmlänge $l$ ausdrücken.

% Ausgedrückt in Dimensionierungsfaktoren ($\varphi$) erhält man
% \begin{equation}
%     \varphi_\sigma = \frac{\varphi_F \cdot \varphi_L}{\varphi_L^3} = \frac{\varphi_F}{\varphi_L^2}
%     \label{eq:dimfakt}
% \end{equation}

% Es ist wünschenswert, dass in allen Lochergrößen etwa gleich große im Hebelarm Spannungen auftreten. Es soll daher gelten:
% \begin{equation}
%     \varphi_\sigma = 1
%     \label{eq:phisigmaconst}
% \end{equation}

% Aus den Bedingungen (\ref{eq:dimfakt}) und (\ref{eq:phisigmaconst}) erhält man die Beziehung:
% $$ \varphi_F = \varphi_L^2 $$

% Daraus ergeben sich die folgenden Dimensionierungsfaktoren für die ersten drei Glieder der Normreihe R10 zu:
% \begin{table}[htb]
%     \centering
%     \begin{tabular}{rl}
%         R10 & $ \varphi_L $ \\
%         \hline
%         1    & $ 1,0  $ \\
%         1,25 & $ 1,12 $ \\
%         1,6  & $ 1,26 $
%     \end{tabular}
% \end{table}

% % ---------------------------------------------------------------------------------------------------------------------
% \subsection{Neugestaltung des Bürolochers}

% Die Bürolocher-Baureihe wird wie folgt dimensioniert:
% \begin{table}[htb]
%     \centering
%     \begin{tabular}{lccc}
%         Maß & Original $[mm]$ & $1,25$-fach $[mm]$ & $1,6$-fach $[mm]$ \\
%         \hline
%         Hebelarm   & $200$ & $224$ & $252$ \\
%         Armbreite  & $40$  & $45$  & $51$  \\
%         Armhöhe    & $15$  & $17$  & $19$  \\
%         Wandstärke & $1$   & $1,2$ & $1.6$
%     \end{tabular}
% \end{table}

% \vspace{3cm}
% \includegraphics[width=12cm]{Locher-gesamt.jpg}

\end{document}
